graphs:
    - name: Query3
      graph:
          - name: Scan_text_1
            work_profile: SensorProfile
            children: ["WholeStageCodegen_1"]
          - name: WholeStageCodegen_1
            work_profile: SensorProfile
            children: ["BroadcastExchange_1"]
          - name: BroadcastExchange_1
            work_profile: SensorProfile
            children: ["WholeStageCodegen_3"]
          - name: scan_text_2
            work_profile: SensorProfile
            children: ["WholeStageCodegen_3"]
          - name: WholeStageCodegen_3
            work_profile: SensorProfile
            children: ["Exchange_1"]
          - name: Exchange_1
            work_profile: SensorProfile
            children: ["BroadcastExchange_2"]  
          - name: BroadcastExchange_2
            work_profile: SensorProfile
            children: ["WholeStageCodegen_4"]  
          - name: WholeStageCodegen_4
            work_profile: SensorProfile
            children: ["TakeOrderedAndProject"]
          - name: TakeOrderedAndProject
            work_profile: SensorProfile
            children: ["Execute InsertIntoHadoopFsRelationCommand"]
          - name: Execute InsertIntoHadoopFsRelationCommand
            work_profile: SensorProfile
            children: []   
          - name: Scan_text_3
            work_profile: SensorProfile
            children: ["WholeStageCodegen_2"]
          - name: WholeStageCodegen_2
            work_profile: SensorProfile
            children: ["Exchange_2"]
          - name: Exchange_2
            work_profile: SensorProfile
            children: ["WholeStageCodegen_4"]   


      release_policy: fixed
      period: 0 # In us for now.
      invocations: 1
      deadline_variance: [2000, 2000]

profiles:
    - name: SensorProfile
      execution_strategies:
          - batch_size: 1
            runtime: 20
            resource_requirements:
                GPU:any: 1
    - name: PerceptionProfile
      execution_strategies:
          - batch_size: 1
            runtime: 200
            resource_requirements:
                GPU:any: 1
    - name: PredictionProfile
      execution_strategies:
          - batch_size: 1
            runtime: 100
            resource_requirements:
                GPU:any: 1
    - name: PlanningProfile
      execution_strategies:
          - batch_size: 1
            runtime: 300
            resource_requirements:
                GPU:any: 1
    - name: ControlProfile
      execution_strategies:
          - batch_size: 1
            runtime: 10
            resource_requirements:
                GPU:any: 1